import{a7 as I,d as $,Q as M,a3 as b,u as q,v as z,y,o as P,c as R,a8 as F,a9 as V,aa as N,_ as U,e as A,g as B,h as D,l as E,i as v,f as K}from"./120aa8f8.js";const O=({appId:e,appKey:a,avatar:t,placeholder:i,visitor:n,lang:o,meta:l,requiredFields:s,avatarForce:r,path:p})=>{new Valine({el:"#vcomments",appId:e,appKey:a,avatar:t,placeholder:i,visitor:n,lang:o,meta:l??[],requiredFields:s??[],avatarForce:r,path:I(p)})},Q=$({name:"ObComment",props:{title:{type:String,default:""},body:{type:String,default:""},uid:{type:String,default:""}},components:{MainTitle:M},setup(e){const a=b(e).title,t=b(e).body,i=b(e).uid,h=q(),v=z();let f;const n=(e,a,t)=>{const i=!e||e===""?"":e,n=!a||a===""?window.location.href:`${window.location.href} 
 ${a}`,o=h.themeConfig.plugins.gitalk.id==="pathname"?window.location.pathname:t;if(v.setCache({title:e,body:a,uid:t}),!!h.configReady){if(h.themeConfig.plugins.gitalk.enable){const l=h.themeConfig.plugins.gitalk.proxy===""?"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token":h.themeConfig.plugins.gitalk.proxy,{clientID:s,clientSecret:r,repo:p,owner:d,admin:g,language:c}=h.themeConfig.plugins.gitalk;F({clientID:s,clientSecret:r,repo:p,owner:d,admin:g,language:c,uid:o,title:i,body:n,proxy:l})}else if(h.themeConfig.plugins.valine.enable){const{app_id:l,app_key:s,avatar:r,placeholder:p,visitor:d,lang:g,meta:c,requiredFields:m,avatarForce:u}=h.themeConfig.plugins.valine;O({appId:l,appKey:s,avatar:r,placeholder:p,visitor:d,lang:g,meta:c,requiredFields:m,avatarForce:u,path:window.location.pathname})}else if(h.themeConfig.plugins.twikoo.enable){const{envId:l,region:s,lang:r}=h.themeConfig.plugins.twikoo;V({envId:l,region:s,lang:r,path:window.location.pathname})}else if(h.themeConfig.plugins.waline.enable){const{serverURL:l,login:s,reaction:r,meta:p,requiredMeta:d,commentSorting:g,wordLimit:c,imageUploader:m,pageSize:u}=h.themeConfig.plugins.waline;f=N({serverURL:l,lang:h.locale??"en",login:s,reaction:r,meta:p,requiredMeta:d,commentSorting:g,wordLimit:c,imageUploader:m,pageSize:u})}}};return y(()=>h.configReady,(e,a)=>{if(!a&&e){const t=v.cachePost;n(t.title,t.body,t.uid)}}),y(()=>h.locale,(e,a)=>{f&&e!==void 0&&e!==a&&f.update({lang:e})}),P(()=>{n(a.value,t.value,i.value)}),{wrapperClasses:R(()=>({"bg-ob-deep-800 p-4 mt-8 lg:px-14 lg:py-10 rounded-2xl shadow-xl mb-8 lg:mb-0":!0,[`comment-${h.themeConfig.theme.profile_shape}`]:!0}))}}});const T=v("div",{id:"gitalk-container"},null,-1),j=v("div",{id:"vcomments"},null,-1),G=v("div",{id:"tcomment"},null,-1),H=v("div",{id:"waline"},null,-1);function J(e,a,t,i,n,o){const l=A("MainTitle");return K(),B("div",{class:E(e.wrapperClasses)},[D(l,{title:"titles.comment",icon:"quote",paddings:"pb-2 pt-0","text-size":"text-2xl md:text-3xl"},null,8,["title"]),T,j,G,H],2)}const W=U(Q,[["render",J]]);export{W as C};